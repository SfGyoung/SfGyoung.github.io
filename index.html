<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>YoungDev - 个人学习记录/技术思考/总结。</title><meta name="author" content="Young"><meta name="copyright" content="Young"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="个人学习记录&#x2F;技术思考&#x2F;总结。">
<meta property="og:type" content="website">
<meta property="og:title" content="YoungDev">
<meta property="og:url" content="https://sfgyoung.github.io/index.html">
<meta property="og:site_name" content="YoungDev">
<meta property="og:description" content="个人学习记录&#x2F;技术思考&#x2F;总结。">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://sfgyoung.github.io/img/dog1.png">
<meta property="article:author" content="Young">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://sfgyoung.github.io/img/dog1.png"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "WebSite",
  "name": "YoungDev",
  "alternateName": [
    "个人学习记录/技术思考/总结。",
    "sfgyoung.github.io"
  ],
  "url": "https://sfgyoung.github.io/"
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://sfgyoung.github.io/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=5.5.1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.1.0/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Failed',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.12.0/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'YoungDev',
  isHighlightShrink: false,
  isToc: false,
  pageType: 'home'
}</script><meta name="generator" content="Hexo 8.0.0"></head><body><div id="web_bg" style="background-image: url(/img/spider.png);"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/dog1.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">4</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">0</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url(/img/spider.png);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">YoungDev</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="site-info"><h1 id="site-title">YoungDev</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="https://github.com/SfGyoung" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:1487208459@qq.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts nc" id="recent-posts"><div class="recent-post-items"><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2025/10/21/hello-world/" title="MySql，Redis，RocketMQ 持久化的本质及蕴含的思想">MySql，Redis，RocketMQ 持久化的本质及蕴含的思想</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2025-10-21T08:23:11.117Z" title="Created 2025-10-21 16:23:11">2025-10-21</time></span></div><div class="content">背景最近复习秋招，在学习，总结各个中间件的过程中，发现其持久化机制存在一些共性的思想，可以复用到日后的一些开发设计当中。 为什么需要持久化为了提升性能，中间件一般是由内存储存数据，而内存会有数据丢失的风险，因此需要一套持久化机制来进行兜底，避免宕机，断电发生的数据丢失，是一种兜底手段。 Mysql是如何持久化的反直觉的是我们都知道Mysql的存储介质是磁盘，这里为什么还会说基于缓存呢？ 因为为了提升查询性能，mysql会设置一个基于内存的buffer pool，如mysql查询数据时，会首先在server端将请求打到引擎层，引擎层在buffer pool中查找是否存在该记录，是则直接返回。（整个过程，是没有与磁盘参与的，减少了大量I&#x2F;O操作，提升性能），这种Cache的思想在我们开发过程中也很常见。这里buffer pool具体的原理就不说了。 持久化的发生时机当mysql进行更新操作时，并不会直接访问磁盘修改对应的数据，而是将buffer pool中的数据标记为**「脏页」**，再（定时的将数据写回磁盘）。 因此，这里存在一个时隙，如果没有及时更新回磁盘，又断电了，更...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2025/10/21/%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%8E%E7%BC%93%E5%AD%98%E4%B8%80%E8%87%B4%E6%80%A7%E6%96%B9%E6%A1%88/" title="MySql与Redis双写一致性方案">MySql与Redis双写一致性方案</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2025-10-21T08:23:11.117Z" title="Created 2025-10-21 16:23:11">2025-10-21</time></span></div><div class="content">背景在实际开发中，经常需要使用redis做cache，提高读性能。而引入缓存后，需要注意缓存与数据库一致性的问题。   CacheAside 旁路缓存  Redis 和 Mysql 数据发生不一致的本质： 更新数据，设计到两个代码操作：  更新数据库 更新Redis  发生不一致的本质：这两个操作不是原子性的，因此在并发下，多线程的执行顺序导致数据库不一致。 如： 为什么要先更新数据库，在更新缓存 先更新缓存，在更新数据库的情况： 线程A, 线程B都执行写操作。 可能的执行顺序：  线程A更新缓存值为A 线程B更新缓存值为B 线程B更新数据库B 线程A更新数据库A  此时，缓存值为B 数据库值为A 不一致。 为什么是删除缓存，而不是更新缓存为新值 线程A, 线程B都执行写操作。  线程A更新数据库A 线程B更新数据库B 线程B更新缓存B 线程A更新缓存A  此时，数据库B，缓存A 不一致 因此本质就是更新数据库，更新缓存这两个操作不是原子的，因此在此之间能发生线程安全问题。 那先更新数据库，在删除缓存，就能保证数据库一致了吗？ 不不不，还有一种情况，那就是更新数据库后，还没删除缓...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2025/10/21/sql-run-process/" title="一条sql语句运行的全过程">一条sql语句运行的全过程</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2025-10-21T08:23:11.117Z" title="Created 2025-10-21 16:23:11">2025-10-21</time></span></div><div class="content">首先来看一下整个流程图，再来讲各个流程发生了什么。  总架构分为两层：  Server层负责 连接 分析和执行SQL 存储引擎层 负责数据存储与提取(实际存储的地方)  Server层连接器连接器负责建立SQL连接。 也就是我们输入用户名密码 建立连接的过程。 连接器的作用总结如下：  与客户端建立TCP三次握手连接 校验用户名和密码。 正确后，根据用户，判定权限。  缓存器缓存查询过的数据，但鸡肋，因为只要表有一条数据只要有修改，整张表缓存信息作废。 MySQL8.0 废除 解析器词法分析（确认关键词）-&gt; 语法分析（构建语法树） 举个栗子： 1select user_inform from uesr_tab  解析器会首先做词法分析，分析哪个词是关键词，哪个词不是。 如下：  紧接着做语法分析，分析语法是否有错误。 分析完成后，会构建出语法树。  执行SQL执行SQL又分为三个阶段：  预处理阶段 优化阶段 执行阶段  预处理 检查SQL语句中的表或字段是否存在 将select * 中的 * 解析为所有列  优化阶段负责确定SQL的执行方案，比如一个SQL语句有多个索引...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2025/10/21/ai-test/" title="利用AI生成单元测试">利用AI生成单元测试</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2025-10-21T08:23:11.117Z" title="Created 2025-10-21 16:23:11">2025-10-21</time></span></div><div class="content">背景DeepSeek出圈，需要思考如何利用大模型来提效。由于单测需要的上下文较多，很难用对话式大模型来做到很好的效果，因此，一些直接嵌入在idea中的插件是我们需要的，其能够更好的知道整个项目的结构，输出更加准确的单元测试代码。 目前，世面上可供选择的插件，比较流行的主要有：  cursor codeGPT 通义灵码（阿里） marscode（字节）  CodeGPT (Idea 插件)CodeGPT为idea的插件，可从 Plugins中 搜索下载。 CodeGPT 支持接入 deepseek， GPT - 4o等常用大模型api生成代码。支持传入代码文件，高亮代码块解释…   调用deepseek目前deepseek官方算力紧张，已关闭充值窗口，无法调用官网api。 替代方案  调用云厂商部署的deepseek的apiDeepseek已将其模型开源，因此只要算力足够，就可获得和满血版同样性能的api。推荐使用云厂商自己部署的api。 目前了解到的云厂商：  腾讯云 siliconFlow  以siliconFlow举例可使用siliconflow平台提供的满血版DeepSee...</div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/dog1.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Young</div><div class="author-info-description">个人学习记录/技术思考/总结。</div><div class="site-data"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">4</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/SfGyoung"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/SfGyoung" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:1487208459@qq.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">个人学习记录/思考/技术分享</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Posts</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/10/21/hello-world/" title="MySql，Redis，RocketMQ 持久化的本质及蕴含的思想">MySql，Redis，RocketMQ 持久化的本质及蕴含的思想</a><time datetime="2025-10-21T08:23:11.117Z" title="Created 2025-10-21 16:23:11">2025-10-21</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/10/21/%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%8E%E7%BC%93%E5%AD%98%E4%B8%80%E8%87%B4%E6%80%A7%E6%96%B9%E6%A1%88/" title="MySql与Redis双写一致性方案">MySql与Redis双写一致性方案</a><time datetime="2025-10-21T08:23:11.117Z" title="Created 2025-10-21 16:23:11">2025-10-21</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/10/21/sql-run-process/" title="一条sql语句运行的全过程">一条sql语句运行的全过程</a><time datetime="2025-10-21T08:23:11.117Z" title="Created 2025-10-21 16:23:11">2025-10-21</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/10/21/ai-test/" title="利用AI生成单元测试">利用AI生成单元测试</a><time datetime="2025-10-21T08:23:11.117Z" title="Created 2025-10-21 16:23:11">2025-10-21</time></div></div></div></div><div class="card-widget card-archives">
    <div class="item-headline">
      <i class="fas fa-archive"></i>
      <span>Archives</span>
      
    </div>
  
    <ul class="card-archive-list">
      
        <li class="card-archive-list-item">
          <a class="card-archive-list-link" href="/archives/2025/10/">
            <span class="card-archive-list-date">
              October 2025
            </span>
            <span class="card-archive-list-count">4</span>
          </a>
        </li>
      
    </ul>
  </div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>Website Info</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">Article Count :</div><div class="item-count">4</div></div><div class="webinfo-item"><div class="item-name">Unique Visitors :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">Page Views :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">Last Update :</div><div class="item-count" id="last-push-date" data-lastPushDate="2025-10-22T05:58:22.148Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(/img/spider.png);"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2025 By Young</span><span class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 8.0.0</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.5.1</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="Toggle Between Light and Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle Between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Settings"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="Back to Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=5.5.1"></script><script src="/js/main.js?v=5.5.1"></script><div class="js-pjax"><script>window.typedJSFn = {
  init: str => {
    window.typed = new Typed('#subtitle', Object.assign({
      strings: str,
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50,
    }, null))
  },
  run: subtitleType => {
    if (true) {
      if (typeof Typed === 'function') {
        subtitleType()
      } else {
        btf.getScript('https://cdn.jsdelivr.net/npm/typed.js@2.1.0/dist/typed.umd.min.js').then(subtitleType)
      }
    } else {
      subtitleType()
    }
  },
  processSubtitle: (content, extraContents = []) => {
    if (true) {
      const sub = [].slice()

      if (extraContents.length > 0) {
        sub.unshift(...extraContents)
      }

      if (typeof content === 'string') {
        sub.unshift(content)
      } else if (Array.isArray(content)) {
        sub.unshift(...content)
      }

      sub.length > 0 && typedJSFn.init(sub)
    } else {
      document.getElementById('subtitle').textContent = typeof content === 'string' ? content :
        (Array.isArray(content) && content.length > 0 ? content[0] : '')
    }
  }
}
btf.addGlobalFn('pjaxSendOnce', () => { typed.destroy() }, 'typedDestroy')
</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>